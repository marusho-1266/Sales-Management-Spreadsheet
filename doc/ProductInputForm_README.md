# 新商品追加フォーム - 使用方法

## 概要
新商品追加の入力ウィンドウのモック画面を作成しました。このフォームは実際のシートへの反映機能は含まれていませんが、UI/UXの確認とテストが可能です。

## ファイル構成
- `ProductInputForm.gs` - GASで使用するHTMLフォームの実装
- `ProductInputForm.html` - ブラウザで直接確認可能なHTMLファイル

## 機能詳細

### 1. フォーム構成
#### 📋 基本情報
- **商品ID**: 自動生成（PROD + タイムスタンプ + ランダム文字）
- **商品名**: 商品の正式名称
- **SKU**: 商品管理コード（任意）
- **ASIN**: Amazon商品コード（任意）

#### 🏪 仕入れ情報
- **仕入れ元**: ドロップダウン選択
  - Amazon、楽天市場、Yahooショッピング
  - メルカリ、ヤフオク、ヤフーフリマ
  - 個人ショップ
- **仕入れ元URL**: 商品ページのURL
- **仕入れ価格**: 購入価格
- **販売価格**: 販売予定価格

#### 📦 在庫情報
- **在庫数**: 現在の在庫数量
- **在庫ステータス**: 在庫あり/売り切れ/予約受付中

#### 📝 備考
- 商品に関する追加情報や注意事項

### 2. 動的機能

#### 仕入れ元情報の表示
仕入れ元を選択すると、以下の情報が自動表示されます：
- 手数料率
- アクセス間隔

#### 利益計算プレビュー
価格を入力すると、リアルタイムで利益計算が表示されます：
- 販売価格
- 仕入れ価格
- 手数料（仕入れ元に応じて自動計算）
- 予想利益

#### 在庫ステータスの自動更新
在庫数を入力すると、在庫ステータスが自動で更新されます：
- 在庫数 = 0 → 売り切れ
- 在庫数 > 0 → 在庫あり

### 3. バリデーション機能

#### 必須項目チェック
- 商品ID
- 商品名
- 仕入れ元
- 仕入れ元URL
- 仕入れ価格
- 販売価格
- 在庫数

#### 形式チェック
- **URL形式**: 有効なURLかどうかをチェック
- **価格妥当性**: 販売価格が仕入れ価格より高いかをチェック
- **数値範囲**: 価格や在庫数が0以上かをチェック

#### エラー表示
- 各フィールドにエラーメッセージが表示
- 赤色でエラー内容を表示
- フォーカス時の視覚的フィードバック

### 4. UI/UX特徴

#### デザイン
- **モダンなデザイン**: Google Material Design風
- **レスポンシブ**: 画面サイズに応じて調整
- **カラーテーマ**: Googleカラーを使用
- **アイコン**: 絵文字を使用した視覚的な区別

#### ユーザビリティ
- **セクション分け**: 論理的な情報グループ化
- **必須項目の明示**: 赤いアスタリスクで表示
- **プレースホルダー**: 入力例を表示
- **リアルタイム計算**: 入力と同時に結果を表示

#### インタラクション
- **ホバーエフェクト**: ボタンやフィールドの視覚的フィードバック
- **フォーカス表示**: 入力フィールドの選択状態
- **ローディング状態**: 保存処理中の視覚的表示
- **成功メッセージ**: 保存完了時の通知

## 使用方法

### 1. GASでの使用
```javascript
// フォームを表示
showProductInputForm();
```

### 2. ブラウザでの確認
`ProductInputForm.html`をブラウザで開いて、フォームの動作を確認できます。

### 3. カスタムメニューからの起動
1. スプレッドシートで「📊 EC管理システム」メニューを選択
2. 「📦 商品管理」を選択
3. 「はい」を選択してフォームを表示

## 技術仕様

### HTML/CSS
- **HTML5**: セマンティックなマークアップ
- **CSS3**: Flexbox、Grid、トランジション
- **レスポンシブデザイン**: モバイル対応

### JavaScript
- **ES6+**: モダンなJavaScript構文
- **DOM操作**: 動的な要素制御
- **イベント処理**: リアルタイムな入力処理
- **バリデーション**: クライアントサイド検証

### GAS連携
- **HtmlService**: モーダルダイアログの表示
- **テンプレート機能**: 動的なHTML生成
- **セキュリティ**: XSS対策済み

## 今後の拡張予定

### 機能追加
- [ ] 商品画像のアップロード機能
- [ ] カテゴリ選択機能
- [ ] タグ機能
- [ ] 一括インポート機能

### UI改善
- [ ] ダークモード対応
- [ ] アクセシビリティ向上
- [ ] 多言語対応
- [ ] キーボードショートカット

### データ連携
- [ ] 在庫管理シートへの自動反映
- [ ] 商品データの重複チェック
- [ ] 履歴機能
- [ ] バックアップ機能

## 注意事項

### 制限事項
- 現在はモック実装のため、実際のデータ保存は行われません
- 画像アップロード機能は未実装です
- 大量データの処理には対応していません

### セキュリティ
- クライアントサイドのバリデーションのみ
- サーバーサイドの検証は未実装
- 入力データのサニタイゼーションは未実装

### ブラウザ対応
- モダンブラウザでの動作を想定
- Internet Explorer は非対応
- モバイルブラウザでの表示確認が必要

---

**作成日**: 2025-09-27  
**バージョン**: 1.0  
**作成者**: 在庫管理ツール開発チーム
